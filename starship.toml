# Starship Prompt — Slingshot Theme
# ~/.config/starship.toml

"$schema" = 'https://starship.rs/config-schema.json'

format = """
${custom.host_local}\
${custom.host_ssh}\
$directory\
${custom.git_clean}\
${custom.git_dirty}\
$line_break\
$character"""

# ── Hostname: local (cyan) ────────────────────
[custom.host_local]
description = "Hostname when not in an SSH session"
command = "hostname -s"
when = '[ -z "$SSH_CONNECTION" ]'
shell = ["bash", "--noprofile", "--norc"]
style = "cyan"
format = '[$output]($style)[:](bright_black)'

# ── Hostname: SSH (orange) ────────────────────
[custom.host_ssh]
description = "Hostname when in an SSH session"
command = "hostname -s"
when = '[ -n "$SSH_CONNECTION" ]'
shell = ["bash", "--noprofile", "--norc"]
style = "208"
format = '[$output]($style)[:](bright_black)'

# ── Disable built-in hostname ─────────────────
[hostname]
disabled = true

# ── Directory ─────────────────────────────────
[directory]
format = '[$path]($style)'
style = 'yellow'
truncation_length = 5
truncation_symbol = '…/'
home_symbol = '~'
truncate_to_repo = false
read_only = ' 󰌾'
read_only_style = 'red'

# ── Git: clean branch (green) ─────────────────
[custom.git_clean]
description = "Git branch when working tree is clean"
command = "git symbolic-ref --short HEAD 2>/dev/null || git rev-parse --short HEAD 2>/dev/null"
when = "git rev-parse --git-dir > /dev/null 2>&1 && git diff --quiet 2>/dev/null && git diff --cached --quiet 2>/dev/null && [ -z \"$(git ls-files --others --exclude-standard 2>/dev/null)\" ]"
shell = ["bash", "--noprofile", "--norc"]
style = "green"
format = '[\[](bright_black)[$output]($style)[\]](bright_black)'

# ── Git: dirty branch (red) ───────────────────
[custom.git_dirty]
description = "Git branch when working tree has changes"
command = "git symbolic-ref --short HEAD 2>/dev/null || git rev-parse --short HEAD 2>/dev/null"
when = "git rev-parse --git-dir > /dev/null 2>&1 && ! { git diff --quiet 2>/dev/null && git diff --cached --quiet 2>/dev/null && [ -z \"$(git ls-files --others --exclude-standard 2>/dev/null)\" ]; }"
shell = ["bash", "--noprofile", "--norc"]
style = "red"
format = '[\[](bright_black)[$output]($style)[\]](bright_black)'

# ── Disable built-in git modules ──────────────
[git_branch]
disabled = true

[git_status]
disabled = true

# ── Prompt character ──────────────────────────
[character]
success_symbol = '[→](bold green)'
error_symbol = '[→](bold red)'
vimcmd_symbol = '[←](bold cyan)'
